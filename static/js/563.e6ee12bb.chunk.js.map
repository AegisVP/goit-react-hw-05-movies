{"version":3,"file":"static/js/563.e6ee12bb.chunk.js","mappings":"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","sources":["components/Common/MovieList.styled.jsx","components/Common/fetchFilms.js","components/Trending/Trending.jsx"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const StyledMovieList = styled.ul`\n  margin: ${p => p.theme.mp(1, 0, 0)};\n  padding: ${p => p.theme.mp(2)};\n\n  display: flex;\n  flex-direction: column;\n  flex-wrap: no-wrap;\n\n  list-style: none;\n`;\n\nexport const StyledMovieItem = styled.li`\n  margin: ${p => p.theme.mp(2)};\n  padding: 0;\n  word-wrap: none;\n  padding: 0;\n\n  display: flex;\n  justify-content: start;\n  align-items: center;\n`;\n\nexport const StyledMovieLink = styled(Link)`\n  margin: 0;\n  padding: ${p => p.theme.mp(2)};\n\n  width: 100%;\n\n  font-size: 14px;\n  font-weight: normal;\n  text-decoration: none;\n  color: darkblue;\n\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.25);\n\n  &.active {\n    text-decoration: underline;\n    color: darkred;\n  }\n`;\n","import axios from 'axios';\nimport { useEffect, useState } from 'react';\n\nconst API_KEY = 'ad24807293275bef83ede161311e71e0';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst PATH_TRENDING = 'movie/popular'; // - список найпопулярніших фільмів на сьогодні для створення колекції на головній сторінці.\nconst PATH_SEARCH = 'search/movie'; // - пошук фільму за ключовим словом на сторінці фільмів.\nconst PATH_DETAILS = 'movie'; // - запит повної інформації про фільм для сторінки кінофільму.\nconst PATH_CREDITS = 'credits'; // - запит інформації про акторський склад для сторінки кінофільму.\nconst PATH_REVIEWS = 'reviews'; // - запит оглядів для сторінки кінофільму.\nconst searchParam = new URLSearchParams({ api_key: API_KEY });\n\nexport async function fetchFilmData(movieId, funcCB) {\n  if (!movieId) return;\n\n  const filmData = await axios\n    .get(`${BASE_URL}/${PATH_DETAILS}/${movieId}?${searchParam}`)\n    .then(r => r.data)\n    .catch(window.alert);\n\n  funcCB(filmData);\n}\n\nexport async function fetchFilmCredits(movieId, funcCB) {\n  if (!movieId) return;\n\n  const filmCredits = await axios\n    .get(`${BASE_URL}/${PATH_DETAILS}/${movieId}/${PATH_CREDITS}?${searchParam}`)\n    .then(r => r.data.cast.slice(0, 10))\n    .catch(window.alert);\n\n  funcCB(filmCredits);\n}\n\nexport async function fetchFilmReviews(movieId, funcCB) {\n  if (!movieId) return;\n\n  const filmReviews = await axios\n    .get(`${BASE_URL}/${PATH_DETAILS}/${movieId}/${PATH_REVIEWS}?${searchParam}`)\n    .then(r => r.data.results.slice(0, 10))\n    .catch(window.alert);\n\n  funcCB(filmReviews);\n}\n\nexport const useFilmSearch = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filmList, setFilmList] = useState({ results: [] });\n\n  async function fetchFilmSearch(query = 'trending') {\n    const searchParam = new URLSearchParams({ api_key: API_KEY, adult: true });\n    if (query?.length > 0 && query !== 'trending') searchParam.append('query', query);\n\n    const URL_PATH = query === 'trending' ? PATH_TRENDING : PATH_SEARCH;\n    const path = `${BASE_URL}/${URL_PATH}?${searchParam}`;\n\n    await axios\n      .get(path)\n      .then(r => r.data)\n      .then(setFilmList)\n      .catch(window.alert);\n  }\n\n  // useEffect(() => {\n\n  // },[])\n\n  useEffect(() => {\n    if (searchQuery) fetchFilmSearch(searchQuery);\n    // else setFilmList([]);\n  }, [searchQuery]);\n\n  const newSearch = ({ query = 'trending' } = {}) => {\n    console.log(`saved search: \"${searchQuery}`);\n    console.log(`new search: \"${query}\" (${query?.length})`);\n    \n    if (searchQuery !== query && query?.length >= 0) {\n      // console.log('setting searchQuery to', query);\n      setSearchQuery(String(query).toLocaleLowerCase().trim());\n    }\n  };\n\n  return [filmList, newSearch];\n};\n\n// export default fetchFilmData;\n","// import { Outlet } from 'react-router-dom';\n\nimport { useFilmSearch } from 'components/Common/fetchFilms';\nimport { useEffect } from 'react';\n// import { Link } from 'react-router-dom';\nimport { StyledMovieList, StyledMovieItem, StyledMovieLink } from '../Common/MovieList.styled';\n\nconst Trending = () => {\n  const [filmList, getFilmList] = useFilmSearch();\n\n  useEffect(() => {\n    getFilmList('trending');\n  }, [getFilmList]);\n\n  console.log(filmList);\n\n  return (\n    <StyledMovieList>\n      {filmList.results.map(film => (\n        <StyledMovieItem key={film.id}>\n          <StyledMovieLink to={`movies/${film.id}`} StyledLink state={{ from: '/' }}>\n            {film.title}\n          </StyledMovieLink>\n        </StyledMovieItem>\n      ))}\n    </StyledMovieList>\n  );\n};\n\nexport default Trending;"],"names":["StyledMovieList","styled","p","theme","mp","StyledMovieItem","StyledMovieLink","Link","API_KEY","BASE_URL","PATH_TRENDING","PATH_SEARCH","PATH_DETAILS","PATH_CREDITS","PATH_REVIEWS","searchParam","URLSearchParams","api_key","fetchFilmData","movieId","funcCB","axios","then","r","data","catch","window","alert","filmData","fetchFilmCredits","cast","slice","filmCredits","fetchFilmReviews","results","filmReviews","useFilmSearch","useState","searchQuery","setSearchQuery","filmList","setFilmList","query","adult","length","append","URL_PATH","path","useEffect","fetchFilmSearch","console","log","String","toLocaleLowerCase","trim","getFilmList","map","film","to","id","StyledLink","state","from","title"],"sourceRoot":""}