"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[566],{8834:function(n,t,e){e.d(t,{XJ:function(){return s},cv:function(){return d},qx:function(){return l}});var r,a,o,c=e(168),i=e(501),u=e(6444),s=u.ZP.ul(r||(r=(0,c.Z)(["\n  margin: ",";\n  padding: ",";\n\n  display: flex;\n  flex-direction: column;\n  flex-wrap: no-wrap;\n\n  list-style: none;\n"])),(function(n){return n.theme.mp(1,0,0)}),(function(n){return n.theme.mp(2)})),l=u.ZP.li(a||(a=(0,c.Z)(["\n  margin: ",";\n  padding: 0;\n  word-wrap: none;\n  padding: 0;\n\n  display: flex;\n  justify-content: start;\n  align-items: center;\n"])),(function(n){return n.theme.mp(2)})),d=(0,u.ZP)(i.rU)(o||(o=(0,c.Z)(["\n  margin: 0;\n  padding: ",";\n\n  width: 100%;\n\n  font-size: 14px;\n  font-weight: normal;\n  text-decoration: none;\n  color: darkblue;\n\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.25);\n\n  &.active {\n    text-decoration: underline;\n    color: darkred;\n  }\n"])),(function(n){return n.theme.mp(2)}))},1718:function(n,t,e){e.d(t,{$D:function(){return k},DF:function(){return Z},J0:function(){return w},RV:function(){return v}});var r=e(8214),a=e(885),o=e(5861),c=e(4569),i=e.n(c),u=e(2791),s="ad24807293275bef83ede161311e71e0",l="https://api.themoviedb.org/3",d="movie/popular",p="search/movie",f="movie",h="credits",m="reviews",g=new URLSearchParams({api_key:s});function v(n,t){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)((0,r.Z)().mark((function n(t,e){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,i().get("".concat(l,"/").concat(f,"/").concat(t,"?").concat(g)).then((function(n){return n.data})).catch(window.alert);case 4:a=n.sent,e(a);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(n,t){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)((0,r.Z)().mark((function n(t,e){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,i().get("".concat(l,"/").concat(f,"/").concat(t,"/").concat(h,"?").concat(g)).then((function(n){return n.data.cast.slice(0,10)})).catch(window.alert);case 4:a=n.sent,e(a);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Z(n,t){return b.apply(this,arguments)}function b(){return(b=(0,o.Z)((0,r.Z)().mark((function n(t,e){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,i().get("".concat(l,"/").concat(f,"/").concat(t,"/").concat(m,"?").concat(g)).then((function(n){return n.data.results.slice(0,10)})).catch(window.alert);case 4:a=n.sent,e(a);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var k=function(){var n=(0,u.useState)(""),t=(0,a.Z)(n,2),e=t[0],c=t[1],f=(0,u.useState)({results:[]}),h=(0,a.Z)(f,2),m=h[0],g=h[1];function v(){return v=(0,o.Z)((0,r.Z)().mark((function n(){var t,e,a,o,c=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"trending",e=new URLSearchParams({api_key:s,adult:!0}),(null===t||void 0===t?void 0:t.length)>0&&"trending"!==t&&e.append("query",t),a="trending"===t?d:p,o="".concat(l,"/").concat(a,"?").concat(e),n.next=7,i().get(o).then((function(n){return n.data})).then(g).catch(window.alert);case 7:case"end":return n.stop()}}),n)}))),v.apply(this,arguments)}(0,u.useEffect)((function(){e&&function(){v.apply(this,arguments)}(e)}),[e]);return[m,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.query,r=void 0===t?"trending":t;console.log('saved search: "'.concat(e)),console.log('new search: "'.concat(r,'" (').concat(null===r||void 0===r?void 0:r.length,")")),e!==r&&(null===r||void 0===r?void 0:r.length)>=0&&c(String(r).toLocaleLowerCase().trim())}]}},1566:function(n,t,e){e.r(t),e.d(t,{default:function(){return v}});var r,a,o,c=e(885),i=e(1718),u=e(2791),s=e(501),l=e(8834),d=e(168),p=e(6444),f=p.ZP.label(r||(r=(0,d.Z)(["\n  margin: ",";\n\n  display: flex;\n\n  font-size: 14px;\n  border: 1px solid #000000;\n"])),(function(n){return n.theme.mp(2)})),h=p.ZP.input(a||(a=(0,d.Z)(["\n  margin: 0;\n  padding: ",";\n\n  width: 250px;\n  border: none;\n  outline: none;\n"])),(function(n){return n.theme.mp(1)})),m=p.ZP.button(o||(o=(0,d.Z)(["\n  padding: 6px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 36px;\n  width: 36px;\n\n  font-size: 18px;\n  line-height: 18px;\n\n  border: none;\n  outline: none;\n  background-color: transparent;\n"]))),g=e(184),v=function(){var n=(0,s.lr)(),t=(0,c.Z)(n,2),e=t[0],r=t[1],a=(0,u.useState)(""),o=(0,c.Z)(a,2),d=o[0],p=o[1],v=(0,i.$D)(),x=(0,c.Z)(v,2),w=x[0],y=x[1],Z=e.get("query");(0,u.useEffect)((function(){console.log("useEffect: paramsQuery:",Z);var n="";Z&&Z.length>0&&(n=Z),p(n),y({query:n,page:1})}),[Z]),console.log("body: paramsQuery:",Z);return 0===(null===w||void 0===w?void 0:w.results.length)?(0,g.jsx)("form",{action:"#",method:"get",onSubmit:function(n){null===n||void 0===n||n.preventDefault();var t={query:d,page:1};r(t),y(t)},children:(0,g.jsxs)(f,{children:[(0,g.jsx)(h,{type:"text",name:"query",value:d,onChange:function(n){return p(n.currentTarget.value)},placeholder:"What movie do you wish to find?"}),(0,g.jsx)(m,{type:"submit",children:"\ud83d\udd0e"})]})}):(0,g.jsx)(l.XJ,{children:w.results.map((function(n){return(0,g.jsx)(l.qx,{children:(0,g.jsx)(l.cv,{to:"".concat(n.id),state:{from:"/movies?query=".concat(d)},children:null===n||void 0===n?void 0:n.original_title})},n.id)}))})}}}]);
//# sourceMappingURL=566.16139811.chunk.js.map