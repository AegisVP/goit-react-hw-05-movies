"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[786],{2786:function(t,n,e){e.r(n),e.d(n,{default:function(){return l}});var c=e(885),r=e(2791),a=e(501),o=e(6636),u=e(184),i=(0,r.lazy)((function(){return e.e(280).then(e.bind(e,6280))})),s=(0,r.lazy)((function(){return e.e(146).then(e.bind(e,4146))})),l=function(){var t,n=(0,a.lr)(),e=(0,c.Z)(n,2),l=e[0],f=e[1],d=(0,r.useState)(""),p=(0,c.Z)(d,2),h=p[0],v=p[1],g=(0,r.useState)(1),m=(0,c.Z)(g,2),y=m[0],k=m[1],_=(0,r.useState)([]),b=(0,c.Z)(_,2),S=b[0],j=b[1],q=l.get("query")||"",w=parseInt((t=l.get("page"),(!isNaN(parseInt(t))||t>0)&&t||1));q!==h&&v(q),w!==y&&k(w),(0,r.useEffect)((function(){""===h?j({}):(0,o.wn)({query:h,page:y}).then(j)}),[h,y]);return S.total_results?(document.title="React HW05 - Movie search - ".concat(h),(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)("p",{children:"Loading..."}),children:(0,u.jsx)(s,{filmList:S,state:{from:"/movies?query=".concat(h),addPath:""}})})):(document.title="React HW05 - Movie search",(0,u.jsxs)(r.Suspense,{fallback:(0,u.jsx)("p",{children:"Loading..."}),children:[(0,u.jsx)(i,{onSubmitHandler:function(t){null===t||void 0===t||t.preventDefault();var n=String(t.currentTarget.query.value).trim();""!==n&&f({query:n,page:1})}}),0===(null===S||void 0===S?void 0:S.total_results)&&(0,u.jsx)("p",{children:"Nothing found"})]}))}},6636:function(t,n,e){e.d(n,{DF:function(){return p},J0:function(){return d},KS:function(){return s},RV:function(){return f},wn:function(){return l}});var c=e(4569),r=e.n(c),a="ad24807293275bef83ede161311e71e0",o="https://api.themoviedb.org/3/",u="movie",i=function(t){return r().get(t).then((function(t){return t.data}))},s=function(){return i("".concat(o).concat("movie/popular","?api_key=").concat(a))},l=function(t){var n=t.query,e=void 0===n?"trending":n,c=t.page,r=void 0===c?1:c;return i("".concat(o).concat("search/movie","?api_key=").concat(a,"&query=").concat(e,"&page=").concat(r))},f=function(t){return i("".concat(o).concat(u,"/").concat(t,"?api_key=").concat(a))},d=function(t){return i("".concat(o).concat(u,"/").concat(t,"/").concat("credits","?api_key=").concat(a)).then((function(t){return t.cast.slice(0,10)}))},p=function(t){return i("".concat(o).concat(u,"/").concat(t,"/").concat("reviews","?api_key=").concat(a)).then((function(t){return t.results.slice(0,10)}))}}}]);
//# sourceMappingURL=786.6ee9ee5f.chunk.js.map